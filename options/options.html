<!DOCTYPE html>
<html>

<head>
    <title>Options</title>
    <link rel="stylesheet" type="text/css" href="options.css">
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            document.getElementById('options-form').addEventListener('submit', function (e) {
                e.preventDefault();

                var url = document.getElementById('plexUrl').value;
                var token = document.getElementById('plexToken').value;

                // Validate the URL
                var urlPattern = /^(http|https):\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/;
                if (!urlPattern.test(url)) {
                    document.getElementById('status').textContent = 'Invalid URL';
                    return;
                }

                // Validate the token
                if (token === '') {
                    document.getElementById('status').textContent = 'Token is required';
                    return;
                }

                // If everything is valid, show a success message
                document.getElementById('status').textContent = 'Settings saved successfully!';
            });
        });
    </script>
</head>

<body>
    <h1>Settings</h1>

    <h2>Current Library Selections</h2>
    <p id="currentMoviesLibrary"></p>
    <p id="currentTvShowsLibrary"></p>


    <form id="options-form">
        <label for="plexUrl">Plex Server URL:</label><br>
        <input type="text" id="plexUrl" name="plexUrl"><br>
        <label for="plexToken">Plex Token:</label><br>
        <input type="text" id="plexToken" name="plexToken"><br>

        <h2>List Libraries</h2>
        <button id="listLibraries">List Libraries</button>

        <h2>Select Libraries</h2>
        <label for="moviesLibrary">Movies Library:</label>
        <select id="moviesLibrary" name="moviesLibrary"></select>

        <label for="tvShowsLibrary">TV Shows Library:</label>
        <select id="tvShowsLibrary" name="tvShowsLibrary"></select>

        <input type="submit" value="Save">
        <div id="status"></div>
    </form>

    <script src="options.js"></script>
</body>
</html>

</html>